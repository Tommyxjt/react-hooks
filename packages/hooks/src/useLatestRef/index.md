---
nav:
  path: /hooks
---

# useLatestRef

用于返回一个引用，保证在整个组件生命周期内总是获取到最新的函数或值。主要用于避免闭包陷阱，确保在异步回调中获取最新的函数或变量。

---

## 使用场景

### 设计思路

- 通过保持引用稳定，避免函数依赖问题。对于每次回调需要访问最新状态或函数时，`useLatestRef` 是最优选择。
- 适合用于防止闭包问题，确保在副作用（如定时器、事件回调等）中总是访问到最新的状态。

### 使用场景

- 在定时器或异步任务中保持对最新的值的访问。
- 用于管理和引用最新的 callback 函数，避免因闭包导致过时的引用。

---

## 代码演示

<code src="./demo/basic.tsx"></code>

---

## API

```typescript
const ref = useLatestRef(value);
const current = ref.current;
```

### Params

| 参数  | 说明         | 类型 | 默认值 |
| ----- | ------------ | ---- | ------ |
| value | 要被引用的值 | `T`  | -      |

### Result

| 参数    | 说明         | 类型 |
| ------- | ------------ | ---- |
| current | 当前引用的值 | `T`  |
